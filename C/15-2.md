# 15 - 2. 일로와봐, 문자열 - 버퍼에 관한 이해

## 버퍼

컴퓨터에서 정보를 처리하기 위해 임시로 저장하는 공간

ex) 키보드의 입력을 처리하느 버퍼: stdin(입력 스트림, 입력 버퍼)

```c
printf("숫자를 입력하세요 : ");
scanf("%d", &num);

printf("문자를 입력하세요 : ");
scanf("%c", &c);
```

만약 이 코드에서 1을 입력하고 엔터를 누르면

```
[stdin]
[ 1\n ]
```

엔터(\n)를 누르면 입력을 종료하면서 "1\n"가 버퍼에 기록됨.

그 다음 첫번째 scanf가 stdin 에서 숫자를 가져옴
(scanf는 ' ', '\n', '\t' 가 입력될때 stdin에서 데이터를 얻어옴(입력의 끝))

```
[stdin]
[  \n ]
```

그리고 두번째 scanf가 stdin에서 한개의 문자를 가져옴 
하지만 버퍼안에 \n가 남아있기 대문에 scanf는 바로 c에 \n를 저장함

### %s로 scanf에서 받을 때

```c
scanf("%s", str);
```

를 실행하면 이전까지 버퍼에 남아 있던 공백 문자들은 무시하고 그 다음부터 등장하는 공백 문자에서 종료함

그러므로 `%c`를 이용할 때에는 버퍼에 무엇이 남아 있는지 생각해야함

### 버퍼 비우기

과거

```c
fflush(stdin); // 버퍼 stdin을 비움 !!!표준 아님!!!
```

현재

```c
getchar(); // 버터 stdin에서 한 문자를 읽어와 그 값을 리턴 ➡️ 버퍼에서 한 글자 제거
```

하지만 getchar()를 한 번만 쓰는 것도 문제가 있음

만약 입력을 "123abc"라고 하면

`[123abc\n]`

num은 123

`[abc\n]`

getchar()

`[bc\n]`

c는 b가 들어가게 됨

`[c\n]`

그러므로 scanf("%c") 보다는 scanf("%s")를 사용하고 첫 글자만 사용하는 식으로 하는게 좋음
